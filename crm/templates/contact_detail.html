{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Monread Customer Portal - Contact Details</title>
  <link rel="icon" href="{% static 'images/uZd3fywj_400x400.jpeg' %}">
  <link href="{% static 'css/contact_detail.css' %}" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>

<div class="container-fluid">
  <div class="row top-bar align-items-center">
    <div class="col-md-10">
      <h4 class="m-0">Monread Customer Portal</h4>
    </div>
    <div class="col-md-2 text-end">
      <button class="btn btn-dark btn-sm">Edit Info</button>
      <button class="btn btn-dark btn-sm">Logout</button>
    </div>
  </div>

  <div class="row mt-4">
    <div class="col-md-3 text-center">
      <div class="logo-placeholder mb-3">
        {% if contact.image_url %}
          <img src="{{ contact.image_url }}" alt="Contact Image"
               class="img-fluid rounded-circle w-100 h-100"
               style="object-fit: cover;">
        {% else %}
          <img src="{% static 'images/default-avatar.png' %}" alt="No Image"
               class="img-fluid rounded-circle w-100 h-100"
               style="object-fit: cover;">
        {% endif %}
      </div>
      <div class="sidebar mb-3">
        <h6>{{ contact.Account_Name.name|default:"N/A" }}</h6>
        {% if account.Account_Name %}
          <p class="mb-0"><strong>Account:</strong> {{ account.Account_Name }}</p>
          <p><strong>Website:</strong> {{ account.Website|default:"-" }}</p>
          <p><strong>Phone:</strong> {{ account.Phone|default:"-" }}</p>
          <p><strong>Billing Address:</strong> {{ account.Billing_Street|default:"-" }}, {{ account.Billing_City }}, {{ account.Billing_State }}, {{ account.Billing_Code }}, {{ account.Billing_Country }}</p>
        {% endif %}
      </div>
      <div class="sidebar">
        <p class="mb-0">{{ contact.Mailing_Street|default:"No Address Provided" }}</p>
        <p>{{ contact.Mailing_City }} {{ contact.Mailing_State }} {{ contact.Mailing_Zip }}</p>
        <p>{{ contact.Mailing_Country }}</p>
      </div>
    </div>

    <div class="col-md-9">
      <div class="row mb-4 contact-info-bar text-center">
        <div class="col-md-3">
          <p><strong>Contact Name:</strong><br>{{ contact.Full_Name }}</p>
        </div>
        <div class="col-md-3">
          <p><strong>Email:</strong><br>{{ contact.Email }}</p>
        </div>
        <div class="col-md-3">
          <p><strong>Renewal Date:</strong><br>{{ account.Renewal_Date|default:"-" }}</p>
        </div>
        <div class="col-md-3">
          <p><strong>Support Time:</strong><br>{{ account.support_time|default:"Not Set" }} minutes</p>
        </div>
      </div>

      <div class="content-area">
        <h5>Contact Details</h5>
        <ul class="list-group">
          <li class="list-group-item"><strong>Phone:</strong> {{ contact.Phone|default:"N/A" }}</li>
          <li class="list-group-item"><strong>Mobile:</strong> {{ contact.Mobile|default:"N/A" }}</li>
          <li class="list-group-item"><strong>Department:</strong> {{ contact.Department|default:"N/A" }}</li>
          <li class="list-group-item"><strong>Account Manager:</strong> {{ contact.Account_Manager.name|default:"N/A" }}</li>
        </ul>
      </div>

      <div class="zoho-desk mt-4">
        <h5>Support Tickets</h5>
        <div id="zohodesk-asap-container"></div>
      </div>
    </div>
  </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
